---
  layout: base
  title: Specification
---
<div class="page-title-bar">
  <div class="inner-content">
    <h2>{{ page.title }}</h2>
  </div>
</div>

<div id="content">
  <div class="inner-content">
<div class="section" id="bolts-specification-version-0-2">
<h1>BOLTS Specification Version 0.2</h1>
<p>The BOLTS library consists of several different components, processes and
conventions and a number of precisely defined concepts. The purpose of this
document is to specify them.</p>
<div class="section" id="parts-classes-standards-and-collections">
<h2>Parts, Classes, Standards and Collections</h2>
<p>In this section some concepts are defined, that will be used later in the
specification of <a class="reference internal" href="#blt-files">blt-files</a>.</p>
<div class="section" id="parts">
<span id="part"></span><h3>Parts</h3>
<p>A BOLTS <a class="reference internal" href="#repository">repository</a> contains a data about objects, that are in some way useful
in CAD. A part is a object that can be described by a set of dimensions. E.g. a
piece of paper is described by its width of 210mm and its height of 297mm.</p>
</div>
<div class="section" id="classes">
<span id="class"></span><h3>Classes</h3>
<p>However, one often encounters parts that are very similar to each other, for
example just differing in their dimensions. These parts can then be more
efficiently described as a class of parts. To continue with the paper example,
a class describing pieces class could also contain a part with width 100mm and
height 100mm.</p>
<p>In <a class="reference internal" href="#blt-files">blt-files</a> classes of parts are described, because this case is so frequent.
Because some parts are one of a kind, it is not uncommon to have classes that
contain just a single part.</p>
<p>The classes of technical parts that BOLTS deals with are often specified by
standards issued by standardization bodies. <a class="reference internal" href="#blt-files">blt-files</a> allow to specify this
for a class.</p>
</div>
<div class="section" id="collections">
<span id="collection"></span><h3>Collections</h3>
<p>It is convenient to organize the classes that we have in a bolts repository in
collections. A collection usually has one or few authors, the parts contained
are in some sense related to each other and all the data of a collection is
under the same licence.</p>
<p>Each collection has a one word identifier, the collection id. The collection id
is the filename (without extension) of the <a class="reference internal" href="#blt-files">blt-files</a> with the information about
the collection. For more details information see <a class="reference internal" href="#blt-files">blt-files</a>.</p>
</div>
</div>
<div class="section" id="the-repository">
<span id="repository"></span><h2>The repository</h2>
<p>A BOLTS repository is directory structure with a certain layout. It contains
all the data and metadata, as well as backend specific extradata. The root
directory contains at least the &quot;data&quot;, &quot;drawings&quot; and &quot;output&quot; directories,
plus optionally a number of backend directories. See <a class="reference internal" href="#list-of-backends">list-of-backends</a> for
details.</p>
<!-- This directory layout doesn not permit to keep collections in git
submodules, but I do not like the alternatives that would allow to. Plus I am
not sure how useful it is to keep collections independently from each other.
But it allows to keep backends in submodules, which might be more
interesting, when someone maintains a backend out of tree. -->
<div class="section" id="the-data-directory">
<h3>The data directory</h3>
<p>The data directory contains a number of <a class="reference internal" href="#blt-files">blt-files</a>, one for each <a class="reference internal" href="#collection">collection</a>.
These files contain most of the backend independent information about the parts
in the repository.</p>
</div>
<div class="section" id="the-drawings-directory">
<h3>The drawings directory</h3>
<p>The drawings directory contains a number of subdirectories, one for
each collection. In each of these directories, drawings of the parts can be
stored, that illustrate the geometries of the parts and the meaning of the
parameters.</p>
<p>The format of these drawings is not specified, but svg or png files are
recommended.</p>
</div>
<div class="section" id="the-output-directory">
<h3>The output directory</h3>
<p>The distributions generated by the backends end up in subdirectories of the
output directory. Its contents should not be modified, as they get overwritten,
when the distribution is regenerated.</p>
</div>
<div class="section" id="the-backend-directories">
<h3>The backend directories</h3>
<p>Each backend directory can contain files and directories with additional
informations, which  are required by the backend. Details are specified by the
<a class="reference internal" href="#backend">backend</a>.</p>
</div>
</div>
<div class="section" id="backends-processing-and-distributions">
<h2>Backends, Processing and Distributions</h2>
<p>BOLTS tries to separate the backend independent data and metadata from the
backend specific data. The former is held in <a class="reference internal" href="#blt-files">blt-files</a>, the latter in
<a class="reference internal" href="#base-files">base-files</a>.</p>
<div class="section" id="id1">
<span id="backend"></span><h3>Backend</h3>
<p id="distribution">A backend is a process that uses backend independent data and backend specific
data as input and has one or several files as output. The output is called the
distribution.</p>
<img alt="processing.png" src="processing.png" style="width: 100%;" />
<p>A example for a backend would be a process that uses the backend indepent data
about parts, their geometries and dimensions together with a number of
templates and stylesheets and produces a set of HTML pages with a nicely
rendered, browsable description of the parts. Other backends could produce data
that is suitable for use in specific CAD applications.</p>
<p>Often backends are relatively independent and do use only their own backend
specific data. However, this is not necessarily so, a backend may also use
backend specific data of other backends. For example the HTML backend described
above might add informations about how to use a part in a specific CAD
application, and this might require to access the backend specific data of the
backend for this CAD application. However, such cross backend dependencies
should be made optional, to keep every backend functional independently of other
backends.</p>
<p>There is a <a class="reference internal" href="#list-of-backends">list-of-backends</a>, where more informations about the available
backends can be found and their <a class="reference internal" href="#base-files">base-files</a> are specified.</p>
</div>
<div class="section" id="backend-independent-data-the-blt-file">
<span id="blt-files"></span><h3>Backend independent data - the blt file</h3>
<p>The backend independent data is stored in <a class="reference external" href="http://yaml.org/">yaml</a> files
with the extension .blt with exactly one YAML document and containing an
associative array with the following keys:</p>
<ul class="simple">
<li>collection: mandatory. The <a class="reference internal" href="#collection-header">collection-header</a></li>
<li>classes: mandatory. An list of <a class="reference internal" href="#class-element">class-element</a> as values.</li>
</ul>
<p>The filename without the .blt extension is called the collection id. Collection
ids are one word identifiers, which must be unique within the repository. This
class id is used as a way to refer to the class, when the standard field is not
set.  They should contain only letters, numbers and underscores, and should be
descriptive, as they may be visible to the user. Some names can not be
collection ids: common, gui, template</p>
<div class="section" id="id2">
<span id="collection-header"></span><h4>Collection header</h4>
<p>The collection header is an associative array that holds general informations
regarding the <a class="reference internal" href="#collection">collection</a>. It contains the following keys:</p>
<ul class="simple">
<li>name: optional, string. A name for the collection.</li>
<li>description: optional, string. A description of the contents of this
collection.</li>
<li>author: mandatory, string or list of strings. The author of this collection
with e-mail in &lt;&gt;. If multiple authors contributed significantly to this collection
a list of authors may be given.</li>
<li>license: mandatory, string. The name of the license for this collection and a
URL pointing to the full text of the license enclosed in &lt;&gt;. Must be one of
the <a class="reference internal" href="#supported-licenses">supported-licenses</a>.</li>
<li>blt-version: mandatory, number. The version of the blt format this collection
follows.</li>
</ul>
</div>
<div class="section" id="id3">
<span id="class-element"></span><h4>Class element</h4>
<p>A class element is an associative array that holds information about a
<a class="reference internal" href="#class">class</a>. It has the following keys:</p>
<ul class="simple">
<li>id: mandatory, string. The id of the class. Class ids are one word
identifiers, which must be unique within the repository. This class id is
used as a way to refer to the class, when the standard field is not set.
They should contain only letters, numbers and underscores, and should be
descriptive, as they may be visible to the user.</li>
<li>naming: mandatory, <a class="reference internal" href="#naming-element">naming-element</a>. A naming convention for the parts of this
class.</li>
<li>drawing: optional, string. Filename of a drawing for this class.</li>
<li>description: optional, string. A short description of the class.</li>
<li>standard: optional, string or list of strings. The name of the standard, if
class is standardized. In the case of several identical standards, a list of
names can be given.</li>
<li>status: optional, string. This can be used to indicate the status of the
standard.  Possible values are &quot;active&quot; and &quot;withdrawn&quot;, if absent, &quot;active&quot;
is assumed.</li>
<li>replaces: optional, string or list of strings. Standards that are superseded
by this standard.</li>
<li>parameters: optional, <a class="reference internal" href="#parameter-element">parameter-element</a>: Parameters for this class.</li>
<li>url: optional, string or list of strings. A url with relevant information
regarding the parts of this class. For example a link to a vendor, or to the
specifying standard.  In the case of several identical standards, a list of
urls has to be given.</li>
<li>notes: optional, string. Notes for this class. Can be used to formulate
questions or additional information.</li>
<li>source: mandatory, string. A short description where the informations for this
class originate. Should contain a URL if possible.</li>
</ul>
</div>
<div class="section" id="id4">
<span id="parameter-element"></span><h4>Parameter element</h4>
<p>A parameter element is an associative array that holds information about the
parameters of a part. This information is used when doing
<a class="reference internal" href="#parameter-collection">parameter-collection</a>. Parameters are usually dimensions, but are not
restricted to be. The following keys are contained in a parameter element.</p>
<ul class="simple">
<li>literal: optional, associative array. This array has as its key the parameter
names of the literal parameters, as values the corresponding values. Literal
parameters are rarely used.</li>
<li>free: optional, list. This list contains the names of the parameters that are
not assigned a value. Usually the user will provide this value.</li>
<li>tables: optional, <a class="reference internal" href="#table-element">table-element</a> or list of table-elements. This array
contains tabular data. Often the table index will be a free variable, for
details see <a class="reference internal" href="#table-element">table-element</a> and <a class="reference internal" href="#parameter-collection">parameter-collection</a>.</li>
<li>types: optional, associative array. Contains as keys parameter names, as
values their respective types. Possible types are: &quot;Length (mm)&quot;, Length
(in)&quot;, &quot;Number&quot;, &quot;Bool&quot;, &quot;Table Index&quot;, &quot;String&quot;. If no entry is present for
a parameter, &quot;Length (mm)&quot; is assumed.</li>
<li>defaults: optional, associative array. This array contains a default value
for every free parameter. If absent, the default value defaults to the type
specific values given in the table below.</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Type</th>
<th class="head">Default Value</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Length (mm)</td>
<td>10</td>
</tr>
<tr><td>Length (in)</td>
<td>1</td>
</tr>
<tr><td>Number</td>
<td>1</td>
</tr>
<tr><td>Bool</td>
<td>False</td>
</tr>
<tr><td>Table Index</td>
<td>&quot;&quot;</td>
</tr>
<tr><td>String</td>
<td>&quot;&quot;</td>
</tr>
</tbody>
</table>
<p>Some parameter names are forbidden: standard.</p>
<p>The two values of the type Bool are true and false (lowercase).</p>
<!-- Limits on parameters could go here -->
</div>
<div class="section" id="id5">
<span id="table-element"></span><h4>Table element</h4>
<p>Tables of data are very common in standards and very useful for specifying a
<a class="reference internal" href="#class">class</a> of parts. A table element describes a table of values, where the row is
specified by the value an index parameter, and each column contains the value
for a parameter. A table element is an associative array that has the following
keys:</p>
<ul class="simple">
<li>index: mandatory, string: name of the index parameter. Has to specified to be
of type &quot;Table Index&quot; in the <a class="reference internal" href="#parameter-element">parameter-element</a>.</li>
<li>columns: mandatory, list: list of parameter names corresponding to the
columns of the table.</li>
<li>data: mandatory, associative array: The keys are possible values of the index
parameter, the values list of values compatible with the types of the
parameters specified in columns.</li>
</ul>
</div>
<div class="section" id="id6">
<span id="naming-element"></span><h4>Naming element</h4>
<p>The name of a part should be precise enough to completely describe it, and
therefore depends on the values of (some of) the parameters. A naming element is
an associative array that holds information about the name of the parts of a
class. It has the keys:</p>
<ul class="simple">
<li>template: mandatory, string. A name template, can contain placeholders for
strings &quot;%s&quot; and numbers &quot;s&quot;.</li>
<li>substitute: optional, list. List of parameter names and that should be
filled in for the placeholders in the template. If missing defaults to empty
list. Besides the parameter names from the <a class="reference internal" href="#parameter-element">parameter-element</a>, also the
special name &quot;standard&quot; can be used.</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<span id="parameter-collection"></span><h3>Parameter Collection</h3>
<p>Parameter Collection is the process of assigning a value to each parameter. The
set of all parameters is found by collecting parameter names from the fields of
one or more <a class="reference internal" href="#parameter-element">parameter-element</a>:</p>
<ul class="simple">
<li>The keys of the literal field.</li>
<li>The items of the free field.</li>
<li>The index field of the <a class="reference internal" href="#table-element">table-element</a> s in the tables field.</li>
<li>The columns field of the <a class="reference internal" href="#table-element">table-element</a> s in the tables field.</li>
</ul>
<p>It is an error condition if there is a parameter name present as a key in the
types field, that is not in the set of all parameters.</p>
<p>Then a value is assigned to each parameter. This can happen by:</p>
<ul class="simple">
<li>A literal value given in the literal field</li>
<li>User or external input for parameters listed in the free field</li>
<li>Table lookup for parameters listed in the columns field of a <a class="reference internal" href="#table-element">table-element</a></li>
</ul>
<p>It is an error condition if a parameter is not assigned a value or if there are
more than one way to assign a value.</p>
<p>For example are the parameter values collected in this way used (among other
properties) to populate the template given in the <a class="reference internal" href="#naming-element">naming-element</a>.</p>
</div>
<div class="section" id="id8">
<span id="base-files"></span><h3>Base Files</h3>
<p>Base files are <a class="reference external" href="http://yaml.org/">yaml</a> files, that store backend specific
data about additional files for a collection. They consist of a list of
<a class="reference internal" href="#base-file-element">base-file-element</a>, one for each file they describe.</p>
<div class="section" id="id10">
<span id="base-file-element"></span><h4>Base file element</h4>
<p>A base file element is an associative array containing informations about a
file. Depending on the type of the file the contained keys are different.
However, there are some keys that are present in every base file element:</p>
<ul class="simple">
<li>filename: mandatory, string. The filename of the file</li>
<li>author: mandatory, string or list of strings. The author of the file with
e-mail adress in &lt;&gt; or a list of several authors.</li>
<li>license: mandatory, string. The license of the file. Must be one of the
<a class="reference internal" href="#supported-licenses">supported-licenses</a>.</li>
<li>type: mandatory, string. A string describing the type of the file.</li>
<li>source: optional, string. A string describing the origin of the file.</li>
</ul>
<p>Backends support different base-file-types, for a list see <a class="reference internal" href="#list-of-base-file-types">list-of-base-file-types</a>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<span id="list-of-backends"></span><h1>List of Backends</h1>
<div class="section" id="openscad">
<h2>OpenSCAD</h2>
<p>The files containing informations required by the OpenSCAD backend reside in
the backend directory with the name openscad. This backend directory contains a
folder for each <a class="reference internal" href="#collection">collection</a> that contains files related to this collection, and
the folder is named like the collection-id.</p>
<p>The OpenSCAD backend generates a OpenSCAD library with modules for all parts
from the collections.</p>
<p>To be able to do that it needs informations about base modules, which are
stored in the <a class="reference internal" href="#base-files">base-files</a> of a collection. Base modules are openscad modules
that take as parameters a subset of all  the parameters of the part (see
<a class="reference internal" href="#parameter-collection">parameter-collection</a>), and construct the part according to these dimensions.</p>
<p>These modules are stored in one or several files residing in the respective
collection directory within the openscad backend directory, and the <a class="reference internal" href="#base-files">base-files</a>
contains one <a class="reference internal" href="#base-file-element">base-file-element</a> of type &quot;modules&quot; (see <a class="reference internal" href="#base-file-type-module">base-file-type-module</a>) for
each file with modules.</p>
<p>Common files that contain code that is used in several collections or base
files can be placed in a folder called common in the openscad backend
directory. They will be automatically included into the main file and copied to
the distribution.</p>
</div>
<div class="section" id="freecad">
<h2>FreeCAD</h2>
</div>
</div>
<div class="section" id="id12">
<span id="list-of-base-file-types"></span><h1>List of base file types</h1>
<div class="section" id="module">
<span id="base-file-type-module"></span><h2>Module</h2>
<p>This kind of <a class="reference internal" href="#base-file-element">base-file-element</a> describes a file containing OpenSCAD modules.
It is an associative array that contains the following keys:</p>
<ul class="simple">
<li>filename: mandatory, string. The filename of the file</li>
<li>author: mandatory, string or list of strings. The author of the file with
e-mail adress in &lt;&gt; or a list of several authors.</li>
<li>license: mandatory, string. The license of the file. Must be one of the
<a class="reference internal" href="#supported-licenses">supported-licenses</a></li>
<li>type: &quot;module&quot;</li>
<li>modules: mandatory, list of <a class="reference internal" href="#base-module-element">base-module-element</a>. A list of base module
elements describing the modules in the file.</li>
</ul>
<div class="section" id="id13">
<span id="base-module-element"></span><h3>Base module element</h3>
<p>A base module element is a associative array describing an OpenSCAD module with
the following keys:</p>
<ul class="simple">
<li>name: mandatory, string. The name of the module.</li>
<li>arguments: mandatory, list of strings. A list with the arguments that need to
be supplied to the module, in the correct order.  Is a subset of the
parameters of the class, see <a class="reference internal" href="#parameter-collection">parameter-collection</a>.</li>
<li>classids: mandatory, list of string. A list of class ids for which this base
module should be used.</li>
<li>parameters: optional, <a class="reference internal" href="#parameter-element">parameter-element</a>: Additional basespecific parameters.
These parameters allow to represent additional paramters, which are not
specific to the class, but to the base. This allows e.g. to let the user
choose  between a detailed and a schematic representation of the part.</li>
</ul>
</div>
</div>
<div class="section" id="stl">
<span id="base-file-type-stl"></span><h2>STL</h2>
<p>This kind of <a class="reference internal" href="#base-file-element">base-file-element</a> describes a file containing geometrical data in
the STL format. It is an associative array with the following keys:</p>
<ul class="simple">
<li>filename: mandatory, string. The filename of the file</li>
<li>author: mandatory, string or list of strings. The author of the file with
e-mail adress in &lt;&gt; or a list of several authors.</li>
<li>license: mandatory, string. The license of the file. Must be either &quot;CC0
1.0&quot; or &quot;Public Domain&quot;.</li>
<li>type: &quot;stl&quot;</li>
<li>classids: mandatory, list of string. A list of class ids for which this base
module should be used.</li>
</ul>
</div>
<div class="section" id="function">
<span id="base-file-type-function"></span><h2>Function</h2>
<p>This kind of <a class="reference internal" href="#base-file-element">base-file-element</a> describes a python file containing geometrical
data in form of functions that build a part in a FreeCAD Document. It is an
associative array with the following keys:</p>
<ul class="simple">
<li>filename: mandatory, string. The filename of the file</li>
<li>author: mandatory, string or list of strings. The author of the file with
e-mail adress in &lt;&gt; or a list of several authors.</li>
<li>license: mandatory, string. The license of the file. Must be one of the
<a class="reference internal" href="#supported-licenses">supported-licenses</a>.</li>
<li>type: &quot;function&quot;</li>
<li>functions: mandatory, list of <a class="reference internal" href="#base-function-element">base-function-element</a>.</li>
</ul>
<div class="section" id="id14">
<span id="base-function-element"></span><h3>Base function element</h3>
<p>A base function element is a associative array describing a python function
with the following keys:</p>
<ul class="simple">
<li>name: mandatory, string. The name of the function.</li>
<li>classids: mandatory, list of string. A list of class ids for which this base
module should be used.</li>
<li>parameters: optional, <a class="reference internal" href="#parameter-element">parameter-element</a>: Additional basespecific parameters.
These parameters allow to represent additional paramters, which are not
specific to the class, but to the base. This allows e.g. to let the user
choose  between a detailed and a schematic representation of the part.</li>
</ul>
</div>
</div>
<div class="section" id="fcstd">
<span id="base-file-type-fcstd"></span><h2>FCSTD</h2>
<p>This kind of <a class="reference internal" href="#base-file-element">base-file-element</a> describes a file created with FreeCAD. It is an
associative array with the following keys:</p>
<ul class="simple">
<li>filename: mandatory, string. The filename of the file</li>
<li>author: mandatory, string or list of strings. The author of the file with
e-mail adress in &lt;&gt; or a list of several authors.</li>
<li>license: mandatory, string. The license of the file. Must be &quot;CC0 1.0&quot; or
&quot;Public Domain&quot;.</li>
<li>type: &quot;fcstd&quot;</li>
<li>objects: mandatory, list of <a class="reference internal" href="#base-object-element">base-object-element</a>.</li>
</ul>
<div class="section" id="id15">
<span id="base-object-element"></span><h3>Base object element</h3>
<p>A base object element is an associative array describing an object in a FreeCAD
Document. It has the following keys:</p>
<ul class="simple">
<li>objectname: mandatory, string. The name of the part in the document.</li>
<li>classids: mandatory, list of string. A list of class ids for which this base
part should be used.</li>
<li>parameters: optional, <a class="reference internal" href="#parameter-element">parameter-element</a>: Additional basespecific parameters.
These parameters allow to represent additional paramters, which are not
specific to the class, but to the base. This allows e.g. to let the user
choose  between a detailed and a schematic representation of the part.</li>
<li>proptoparam: optional, associative array of associative arrays. This maps
properties of objects to parameters. Keys to the first level of associative
arrays are the object names in the source file, keys to the second level are
the names of the properties and the values are the names of the parameter as
specified in a <a class="reference internal" href="#parameter-element">parameter-element</a>. Defaults to {objectname : {&quot;Label&quot; :
&quot;name&quot;}}</li>
</ul>
</div>
</div>
</div>
<div class="section" id="supported-licenses-in-bolts">
<span id="supported-licenses"></span><h1>Supported Licenses in BOLTS</h1>
<p>The license of a file contained in BOLTS must be one of the following:</p>
<ul class="simple">
<li><a class="reference external" href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0</a></li>
<li><a class="reference external" href="http://jreinhardt.github.io/BOLTS/public_domain.html">Public Domain</a></li>
<li><a class="reference external" href="http://opensource.org/licenses/MIT">MIT</a></li>
<li><a class="reference external" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-clause</a></li>
<li><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/lgpl-2.1">LGPL 2.1</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/lgpl-2.1">LGPL 2.1+</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/lgpl-3.0">LGPL 3.0</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/lgpl-3.0">LGPL 3.0+</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/gpl-2.0">GPL 2.0+</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0">GPL 3.0</a></li>
<li><a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0">GPL 3.0+</a></li>
</ul>
<p>where a + indicates a clause that allows a later version of the license to be
used.</p>
</div>
  </div>
</div>
